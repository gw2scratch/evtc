<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Adding support for a new encounter </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Adding support for a new encounter ">
    <meta name="generator" content="docfx 2.58.0.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="EVTCAnalytics.Contributing.NewEncounter">
<h1 id="adding-support-for-a-new-encounter">Adding support for a new encounter</h1>

<p>Introducing support for a new encounter requires multiple steps:</p>
<ul>
<li>Add a new value to the Encounter enum in <code>GameData/Encounters/Encounter.cs</code></li>
<li>Specify a Category for this Encounter in <code>GameData/Encounters/EncounterCategories.cs</code></li>
<li>Specify an English name for this Encounter in <code>GameData/Encounters/EncounterNames.cs</code></li>
</ul>
<p>The presence of category and name is checked running tests defined
in <code>EVTCAnalytics.Tests</code>, run these to verify this has been done this correctly.</p>
<p>After doing this, add a way to identify the newly added encounter
in the <code>IdentifyEncounter()</code> method of the <code>Processing/DefaultEncounterIdentifier.cs</code>.
This will be done by checking the species id of the main target in almost all cases.
The most common exception is fights that may register a different boss in the
same instance if the recording player is too close to them.</p>
<p>In case you do not have the species id of the NPC, you can use arcdps to show a window with details
that includes it if you select the NPC. The default shortcut for this window is Alt+Shift+S.</p>
<p>The last step missing is to provide custom <code>EncounterData</code> if needed.
<code>EncounterData</code> contains definitions that are used to determine whether
the encounter was successful, whether it was in Challenge Mode and others.
You might need to implement new Determiners in case the encounter is not very
typical. If you do, try to make them generic enough to be reusable in case
similar encounters are introduced in the future.</p>
<p>The EVTC Inspector is very useful for finding reliable ways to check results
and to figure out what is happening in the logs.</p>
<p>After specifying all this, gather enough logs to verify your <code>EncounterData</code>
works as expected and you are done.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/gw2scratch/evtc/blob/master/docs/contributing/new-encounters.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
